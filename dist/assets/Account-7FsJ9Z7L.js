import{c as re,C as $,h as i,q as e,t as s,E as v,B as ne,o as oe,G as de,A as O,I as ce,z,H as me}from"./index-8wLK5tP2.js";import{A as xe}from"./apiUsageService-40l3Zyjx.js";import{W as _}from"./whiteLabelService-BC_gRedG.js";import{A}from"./alert-circle-mFFPV712.js";import{T as ue,P as he}from"./trash-2-V8kPF9HU.js";import{U as G}from"./upload-D3UcShIs.js";import{C}from"./check-iN1kQgfS.js";import{C as pe}from"./calendar-CVpwYZaz.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),be=({userId:t})=>{const{subscription:a}=$(),[u,h]=i.useState(null),[l,n]=i.useState(!1),[p,d]=i.useState(!0),[f,c]=i.useState(null),[g,m]=i.useState(null),j=a.tier==="studio";i.useEffect(()=>{(async()=>{if(!j){d(!1);return}try{d(!0);const o=await _.getWhiteLabelSettings();o!=null&&o.logoUrl&&h(o.logoUrl)}catch(o){console.error("Error loading white label settings:",o)}finally{d(!1)}})()},[j]);const w=async x=>{var N;const o=(N=x.target.files)==null?void 0:N[0];if(o){if(!o.type.startsWith("image/")){c("Please upload an image file (JPEG, PNG, etc.)");return}if(o.size>2*1024*1024){c("Image size must be less than 2MB");return}try{n(!0),c(null),m(null);const b=await _.uploadLogo(o);h(b),m("Logo uploaded successfully!"),setTimeout(()=>m(null),3e3)}catch(b){console.error("Error uploading logo:",b),c(b.message||"Failed to upload logo")}finally{n(!1)}}},S=async()=>{try{n(!0),c(null),m(null),await _.removeLogo(),h(null),m("Logo removed successfully!"),setTimeout(()=>m(null),3e3)}catch(x){console.error("Error removing logo:",x),c(x.message||"Failed to remove logo")}finally{n(!1)}};return j?e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"White Label Branding"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Customize how your shared vision boards appear to clients"}),p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(v,{className:"w-8 h-8 text-blue-500 animate-spin"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Company Logo"}),u?e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-xl flex flex-col items-center",children:[e.jsx("div",{className:"w-48 h-24 flex items-center justify-center mb-4 bg-white rounded-lg border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"w-full h-full relative p-1.5",children:e.jsx("img",{src:u,alt:"Your logo",className:"w-full h-full object-contain p-1.5"})})}),e.jsxs(s.button,{onClick:S,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[l?e.jsx(v,{className:"animate-spin",size:16}):e.jsx(ue,{size:16}),e.jsx("span",{children:"Remove Logo"})]})]})}):e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"p-8 bg-slate-50 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(G,{className:"w-6 h-6 text-blue-600"})}),e.jsx("p",{className:"text-slate-700 font-medium mb-2",children:"Upload your company logo"}),e.jsx("p",{className:"text-slate-500 text-sm mb-4 text-center",children:"Your logo will appear on all shared vision boards"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:w,disabled:l}),e.jsx(s.div,{className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:l?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"animate-spin",size:16}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{size:16}),e.jsx("span",{children:"Select Logo"})]})})]})]})}),f&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(A,{size:16,className:"text-red-500 mt-0.5"}),e.jsx("p",{className:"text-red-700 text-sm",children:f})]})}),g&&e.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(C,{size:16,className:"text-emerald-500 mt-0.5"}),e.jsx("p",{className:"text-emerald-700 text-sm",children:g})]})}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-blue-600 text-xs",children:"i"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-800 text-sm font-medium mb-1",children:"About White Labeling"}),e.jsx("p",{className:"text-blue-700 text-xs leading-relaxed",children:"Your logo will replace the MDI branding on all shared vision boards. For best results, upload a transparent PNG logo with dimensions of approximately 300×150 pixels."})]})]})})]})})]}):e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"White Label Branding"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Customize how your shared vision boards appear to clients"}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{size:18,className:"text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-800 text-sm font-medium mb-1",children:"Studio Plan Required"}),e.jsx("p",{className:"text-amber-700 text-xs leading-relaxed",children:"White label branding is available exclusively for Studio plan subscribers. Upgrade to Studio to add your logo to shared vision boards."})]})]})}),e.jsx(s.button,{onClick:()=>window.location.href="/upgrade",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-medium hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Upgrade to Studio"})]})},ge=({apiUsage:t,isLoading:a,projectCount:u,visionBoardCount:h})=>{const{subscription:l,limits:n}=$(),p=(f,c)=>c<=0?0:Math.min(100,Math.round(f/c*100)),d=()=>l.tier==="free"?25:l.tier==="pro"?125:750;return e.jsxs(s.div,{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm sticky top-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Usage Limits"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Track your current usage"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Projects"}),e.jsx("span",{className:"text-sm font-semibold px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full",children:l.tier==="free"?`${n.projects} max`:l.tier==="pro"?`${n.projects} max`:"Unlimited"})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:e.jsx(s.div,{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-full",initial:{width:0},animate:{width:l.tier==="studio"?"100%":`${Math.min(100,u/n.projects*100)}%`},transition:{duration:1,delay:.8}})}),e.jsx("p",{className:"text-xs text-slate-600 mt-2",children:l.tier==="studio"?"No limits on your plan":`${u} of ${n.projects} projects used`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Amazon"}),e.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"(Search)"})]}),e.jsxs("span",{className:"text-sm font-semibold px-3 py-1 bg-orange-100 text-orange-700 rounded-full",children:[n.apiCalls," credits"]})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:e.jsx(s.div,{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 rounded-full",initial:{width:0},animate:{width:a?"0%":`${p((t==null?void 0:t.amazon_total_count)||0,n.apiCalls)}%`},transition:{duration:1,delay:.9}})}),e.jsx("p",{className:"text-xs text-slate-600 mt-2",children:a?"Loading usage data...":`${(t==null?void 0:t.amazon_total_count)||0} of ${n.apiCalls} credits used this month`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Etsy"}),e.jsx("span",{className:"text-xs text-teal-600 font-medium",children:"(Search)"})]}),e.jsxs("span",{className:"text-sm font-semibold px-3 py-1 bg-teal-100 text-teal-700 rounded-full",children:[d()," credits"]})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:e.jsx(s.div,{className:"h-full bg-gradient-to-r from-teal-500 to-teal-400 rounded-full",initial:{width:0},animate:{width:a?"0%":`${p((t==null?void 0:t.etsy_total_count)||0,d())}%`},transition:{duration:1,delay:1}})}),e.jsx("p",{className:"text-xs text-slate-600 mt-2",children:a?"Loading usage data...":`${(t==null?void 0:t.etsy_total_count)||0} of ${d()} credits used this month`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Vision Boards"}),e.jsx("span",{className:`text-sm font-semibold px-3 py-1 rounded-full ${l.tier==="free"?"bg-slate-100 text-slate-600":l.tier==="pro"?"bg-violet-100 text-violet-700":"bg-blue-100 text-blue-700"}`,children:l.tier==="free"?"1 max":l.tier==="pro"?`${n.visionBoards} max`:"Unlimited"})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:e.jsx(s.div,{className:`h-full rounded-full ${l.tier==="free"?"bg-gradient-to-r from-slate-500 to-slate-400":l.tier==="pro"?"bg-gradient-to-r from-violet-500 to-violet-400":"bg-gradient-to-r from-blue-500 to-blue-400"}`,initial:{width:0},animate:{width:l.tier==="studio"?"100%":`${Math.min(100,h/n.visionBoards*100)}%`},transition:{duration:1,delay:1.2}})}),e.jsx("p",{className:"text-xs text-slate-600 mt-2",children:l.tier==="studio"?"No limits on your plan":`${h} of ${n.visionBoards} boards created`})]})]}),l.tier==="free"&&e.jsx(s.div,{className:"mt-8 p-4 bg-gradient-to-r from-violet-50 to-blue-50 border border-violet-200 rounded-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:1.4},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Unlock More Features"}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upgrade to Pro or Studio for more projects and advanced features."}),e.jsx("a",{href:"/upgrade",className:"w-full px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg font-medium hover:from-violet-700 hover:to-purple-700 transition-all duration-200 inline-block",children:"Upgrade Plan"})]})})]})},Pe=()=>{var F,T,B,W,H,Y,D,R;const{user:t}=ne(),{subscription:a,refreshSubscription:u,isLoading:h,limits:l}=$(),[n,p]=i.useState(!1),[d,f]=i.useState(!1),[c,g]=i.useState(!1),[m,j]=i.useState(((F=t==null?void 0:t.user_metadata)==null?void 0:F.first_name)||""),[w,S]=i.useState(((T=t==null?void 0:t.user_metadata)==null?void 0:T.last_name)||""),[x,o]=i.useState(!1),[N,b]=i.useState(""),[q,L]=i.useState(!1),[V,X]=i.useState(null),[J,M]=i.useState(!1),[K,Q]=i.useState(0),[Z,ee]=i.useState(0),P=oe(),I=de();i.useEffect(()=>{const r=new URLSearchParams(I.search),y=r.get("success"),E=r.get("plan");if(y==="true"&&E){p(!0),u();const U=setTimeout(()=>{P("/account",{replace:!0}),p(!1)},5e3);return()=>clearTimeout(U)}},[I,P,u]),i.useEffect(()=>{t!=null&&t.user_metadata&&(j(t.user_metadata.first_name||""),S(t.user_metadata.last_name||""))},[t]),i.useEffect(()=>{t&&(async()=>{try{M(!0);const y=await xe.getUserApiUsage();X(y);const{count:E,error:U}=await z.from("projects").select("id",{count:"exact",head:!0});U||ee(E||0);const{count:le,error:ie}=await z.from("vision_boards").select("id",{count:"exact",head:!0}).eq("is_saved",!0);ie||Q(le||0)}catch(y){console.error("Error loading account data:",y)}finally{M(!1)}})()},[t]);const k=r=>r?new Date(r*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",te=async()=>{try{f(!0);const r=await me.getCustomerPortalUrl(window.location.origin+"/account");window.location.href=r}catch(r){console.error("Error opening customer portal:",r)}finally{f(!1)}},se=async()=>{try{o(!0),b(""),L(!1);const{error:r}=await z.auth.updateUser({data:{first_name:m,last_name:w}});if(r)throw r;L(!0),g(!1),setTimeout(()=>{L(!1)},3e3)}catch(r){console.error("Error updating profile:",r),b(r.message||"Failed to update profile")}finally{o(!1)}},ae=()=>{switch(a.tier){case"studio":return"text-blue-600";case"pro":return"text-violet-600";default:return"text-slate-600"}};return e.jsxs("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx(s.div,{className:"absolute top-1/4 -right-1/4 w-96 h-96 bg-gradient-to-br from-violet-200/40 to-purple-200/40 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),e.jsx(s.div,{className:"absolute bottom-1/4 -left-1/4 w-96 h-96 bg-gradient-to-br from-blue-200/40 to-indigo-200/40 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),e.jsxs(s.div,{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900 text-white py-20 lg:py-24 relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"hero-dots",width:"60",height:"60",patternUnits:"userSpaceOnUse",children:e.jsx("circle",{cx:"30",cy:"30",r:"2",fill:"currentColor"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#hero-dots)",className:"text-white"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 relative z-10",children:e.jsxs(s.div,{className:"max-w-4xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[e.jsx(s.div,{className:"flex mb-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:e.jsxs("button",{onClick:()=>P("/studio"),className:"inline-flex items-center text-slate-300 hover:text-white transition-all duration-300 font-medium group bg-white/10 backdrop-blur-sm px-5 py-3 rounded-full hover:bg-white/20",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"text-sm",children:"Back to Studio"})]})}),e.jsx(s.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1,delay:.3,ease:"easeOut"},className:"w-16 h-1 bg-gradient-to-r from-violet-400 to-blue-400 mb-6 rounded-full"}),e.jsxs(s.h1,{className:"font-light text-4xl md:text-5xl lg:text-6xl mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},children:["Account",e.jsx(s.span,{className:"block font-semibold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.8},children:"Settings"})]}),e.jsx(s.p,{className:"text-xl text-slate-300 leading-relaxed max-w-3xl font-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},children:"Manage your profile, subscription, and preferences. Keep track of your usage and billing information all in one place."})]})})]}),e.jsxs(O,{children:[n&&e.jsx(s.div,{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full px-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-emerald-800",children:"Subscription Activated!"}),e.jsx("p",{className:"text-sm text-emerald-700 mt-1",children:"Thank you for your purchase. Your subscription has been activated successfully."})]})]})})}),q&&e.jsx(s.div,{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full px-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-emerald-800",children:"Profile Updated!"}),e.jsx("p",{className:"text-sm text-emerald-700 mt-1",children:"Your profile information has been updated successfully."})]})]})})})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-8 py-24 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(s.div,{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Profile Information"}),e.jsx("p",{className:"text-slate-600",children:"Your account details and personal information"})]}),e.jsx(s.button,{onClick:()=>g(!c),className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-full transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(he,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-6 mb-8 p-6 bg-gradient-to-r from-slate-50 to-slate-100/50 rounded-2xl",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-violet-500 to-blue-500 rounded-2xl flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:((W=(B=t==null?void 0:t.user_metadata)==null?void 0:B.first_name)==null?void 0:W.charAt(0).toUpperCase())||((H=t==null?void 0:t.email)==null?void 0:H.charAt(0).toUpperCase())||"U"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:[(Y=t==null?void 0:t.user_metadata)==null?void 0:Y.first_name," ",(D=t==null?void 0:t.user_metadata)==null?void 0:D.last_name]}),e.jsx("p",{className:"text-slate-600 text-lg",children:t==null?void 0:t.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:"Active Account"})]})]})]}),e.jsx(O,{mode:"wait",children:c?e.jsxs(s.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"First Name"}),e.jsx("input",{type:"text",value:m,onChange:r=>j(r.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all duration-200",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Last Name"}),e.jsx("input",{type:"text",value:w,onChange:r=>S(r.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all duration-200",placeholder:"Enter your last name"})]}),N&&e.jsx("div",{className:"col-span-2 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:N}),e.jsxs("div",{className:"col-span-2 flex gap-3 mt-2",children:[e.jsx(s.button,{onClick:()=>g(!1),className:"px-6 py-3 border border-slate-300 rounded-xl text-slate-700 hover:bg-slate-50 transition-all duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:x,children:"Cancel"}),e.jsx(s.button,{onClick:se,className:"px-6 py-3 bg-violet-600 text-white rounded-xl hover:bg-violet-700 transition-all duration-200 flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:18,className:"animate-spin"}),e.jsx("span",{children:"Updating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{size:18}),e.jsx("span",{children:"Save Changes"})]})})]})]}):null}),e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(v,{className:"w-8 h-8 text-slate-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading subscription details..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-slate-50 to-slate-100/50 rounded-2xl mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:"Current Plan"}),e.jsxs("p",{className:`text-2xl font-bold ${ae()}`,children:[a.tier.charAt(0).toUpperCase()+a.tier.slice(1)," Plan"]})]}),a.tier!=="free"&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Next billing date"}),e.jsx("p",{className:"font-semibold text-slate-900",children:k(a.currentPeriodEnd)})]})]})}),a.tier!=="free"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(fe,{size:20,className:"text-slate-500"}),e.jsx("h5",{className:"font-semibold text-slate-900",children:"Payment Method"})]}),(R=a.paymentMethod)!=null&&R.brand?e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-8 bg-gradient-to-r from-slate-600 to-slate-700 rounded-lg flex items-center justify-center text-white text-xs font-bold",children:a.paymentMethod.brand.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900",children:[a.paymentMethod.brand.charAt(0).toUpperCase()+a.paymentMethod.brand.slice(1)," •••• ",a.paymentMethod.last4]}),e.jsx("p",{className:"text-sm text-slate-600",children:"Default payment method"})]})]})}):e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-amber-600"}),e.jsx("p",{className:"font-medium text-amber-800",children:"No payment method on file"})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(pe,{size:20,className:"text-slate-500"}),e.jsx("h5",{className:"font-semibold text-slate-900",children:"Billing Information"})]}),e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:e.jsx("p",{className:"text-slate-700",children:a.cancelAtPeriodEnd?`⚠️ Your subscription will end on ${k(a.currentPeriodEnd)}`:`✅ Your subscription will automatically renew on ${k(a.currentPeriodEnd)}`})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-4",children:a.tier!=="free"&&e.jsx(s.button,{onClick:te,disabled:d,className:"px-8 py-4 bg-gradient-to-r from-slate-900 to-slate-800 text-white rounded-xl font-semibold hover:from-slate-800 hover:to-slate-700 transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-3 shadow-lg hover:shadow-xl",whileHover:{scale:d?1:1.02},whileTap:{scale:d?1:.98},children:d?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:20,className:"animate-spin"}),e.jsx("span",{children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:20}),e.jsx("span",{children:"Manage Subscription"})]})})})]})})]}),a.tier==="studio"&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:e.jsx(be,{userId:(t==null?void 0:t.id)||""})})]}),e.jsx(ge,{apiUsage:V,isLoading:J,projectCount:Z,visionBoardCount:K})]})})]})};export{Pe as default};
